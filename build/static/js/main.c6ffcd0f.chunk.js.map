{"version":3,"sources":["services/personService.js","components/PersonForm.js","components/Names.js","components/Persons.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","newObject","axios","post","then","response","data","id","put","get","delete","PersonForm","newName","newNumber","persons","setNewName","setNewNumber","setPersons","setMessage","message","onSubmit","event","preventDefault","nameObject","name","number","length","nameChecker","numberChecker","i","toLowerCase","window","confirm","matchedPerson","filter","person","personService","newPersons","catch","error","console","log","returnedData","concat","setTimeout","type","value","onChange","target","Names","className","Persons","map","Filter","useState","filtered","setFilter","result","search","index","Notification","App","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c6ffcd0f.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst deleteUser = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\n// eslint-disable-next-line\nexport default {\n    create, update, getAll, deleteUser\n}\n\n\n//   {\n//     \"persons\":[\n//       { \n//         \"name\": \"Arto Hellas\", \n//         \"number\": \"040-123456\",\n//         \"id\": 1\n//       },\n//       { \n//         \"name\": \"Ada Lovelace\", \n//         \"number\": \"39-44-5323523\",\n//         \"id\": 2\n//       },\n//       { \n//         \"name\": \"Dan Abramov\", \n//         \"number\": \"12-43-234345\",\n//         \"id\": 3\n//       },\n//       { \n//         \"name\": \"Mary Poppendieck\", \n//         \"number\": \"39-23-6423122\",\n//         \"id\": 4\n//       }\n//     ]\n//   }","import React from 'react'\nimport personService from './../services/personService.js'\n \nconst PersonForm =Â ({newName,newNumber,persons,setNewName,setNewNumber,setPersons,message,setMessage}) =>{\n\n    const addContact = (event) => {\n        event.preventDefault()\n    \n        const nameObject = {\n          name: newName,\n          number: newNumber,\n          id: persons.length +1\n        }\n    \n        let nameChecker = false //control whether name in the list or not\n\n        let numberChecker = false //control whether number in the list or not\n    \n        for(let i=0; i<persons.length; i++){\n            if (persons[i].name.toLowerCase() === newName.toLowerCase()){\n                nameChecker = true\n            }\n            if (persons[i].number.toLowerCase() === newNumber.toLowerCase()) {\n                numberChecker = true\n            }\n        }\n\n        if(nameChecker){ //if name exists in db\n            //if in the list\n            setNewName('')\n            setNewNumber('')\n\n            if (!numberChecker){ // do you want to update your number? \n                if (window.confirm(`${newName} is already added to persons, replace the old number with a new one?`)){\n                    const matchedPerson = persons.filter(person => \n                        person.name.toLowerCase() === newName.toLowerCase() ?\n                        person : \"\"\n                    )\n                    personService\n                        .update(matchedPerson[0].id, {name: matchedPerson[0].name, number: newNumber, id: matchedPerson[0].id})\n                        .then(response => {\n                            const newPersons=persons.filter(person => \n                                person.name === response.name ? \n                                person.number = response.number : person.number)\n                            setPersons(newPersons)\n                        })\n                        .catch(error => {\n                            console.log(\"This user is already deleted.\")\n                            setMessage(`Information of ${matchedPerson[0].name} has already been removed from server.`)\n                        })\n                }\n            }\n            else{\n                //do nothing if do not give consent to update the number\n            }\n        }\n        else{\n            //if not in the list\n            console.log(nameObject)\n            personService\n                .create(nameObject)\n                .then(returnedData => {\n                    setPersons(persons.concat(nameObject))\n                    setNewName('')\n                    setNewNumber('')\n                    setMessage(`${nameObject.name} is added`)\n                    setTimeout(()=> setMessage(null),3000)\n            })\n            .catch(response => {\n                console.log('fail')\n            })\n\n        }\n    \n      }\n\n    const handleNewNumber = (event) =>{\n        setNewNumber(event.target.value)\n\n    }\n    \n    const handleNewName = (event) =>{\n        setNewName(event.target.value)\n\n    }\n\n    return(\n        <form onSubmit={addContact}>\n            name:\n                <input \n                    type=\"text\"\n                    value={newName}\n                    onChange={handleNewName}\n                />\n            <br/>\n            number: \n                <input \n                    type =\"text\"\n                    value={newNumber}\n                    onChange={handleNewNumber}  \n                />\n            <br/>\n            <button type=\"submit\">Add</button>\n         </form>\n    )\n    \n}\n\n\nexport default PersonForm","import React from 'react'\nimport personService from './../services/personService.js'\n\n\nconst Names = ({persons,setPersons}) => {\n    const deleteUser = (event) => {\n        if (window.confirm(`Delete ${persons.name} ?`)){\n            personService\n            .deleteUser(persons.id)\n            .then(response => {\n                console.log(response)\n                setPersons(response)\n            })\n        }\n        else {\n            //do nothing\n        }\n\n    }\n\n    return (\n        <form onSubmit={deleteUser}>\n            {persons.name} {persons.number}\n            <button className=\"deleteButton\" type=\"submit\">Delete</button>\n        </form>\n    ) \n}\n\nexport default Names","import React from 'react'\nimport Names from './Names.js'\n\n\nconst Persons = ({persons,setPersons}) => {\n\n    return(\n        <div>\n            {persons.map(person =>\n                <Names key={person.name} persons={person} setPersons={setPersons}/> \n            )}\n        </div>\n    )\n}\n\nexport default Persons","import React,{useState} from 'react'\n\nconst Filter =  ({persons}) => {\n    const [filtered, setFilter] = useState(persons);\n    \n    const handleSearch = (event) => {\n        event.preventDefault()\n        let value = event.target.value\n        value = value.toLowerCase()\n        \n        let result = []\n        result = persons.filter((data) => {\n          if (value !== \"\"){\n            return data.name.toLowerCase().search(value) !== -1;\n          }\n          else {\n             return null\n          }\n          \n        })\n        setFilter(result)\n        console.log('result length', result.length)\n      }    \n    \n    return (\n        <div>\n          Filter shown with: \n            <input type=\"text\"\n              onChange ={handleSearch}\n            />\n          {filtered.map((value,index)=>{\n            return(\n              <li key={value.id}>\n                {value.name} - {value.number}\n              </li>\n            )\n          })}\n        </div>\n      );\n\n}\n\nexport default Filter","const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"notifMessage\">\n        {message}\n      </div>\n    )\n  }\n\n  export default Notification","import React, { useEffect, useState } from 'react'\nimport PersonForm from './components/PersonForm.js'\nimport Persons from './components/Persons.js'\nimport Filter from './components/Filter.js'\nimport personService from './services/personService.js'\nimport Notification from './components/Notification.js'\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [message, setMessage] = useState(null)\n\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  },\n  [],)\n\n  return (\n    <div>\n      <h1>Persons</h1>\n      <Notification message={message} />\n\n      <Filter persons={persons}/>\n\n      <h2>Add a new contact</h2>\n      <PersonForm newName={newName} newNumber={newNumber} persons={persons} \n        setNewName={setNewName} setNewNumber={setNewNumber} setPersons={setPersons}\n        message={message} setMessage= {setMessage}/>\n\n      <h3>Numbers</h3>\n      <Persons persons={persons} setPersons={setPersons}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}